import{u as Be,b as U,e as Oe}from"./index-bcd0f302.js";/* empty css                  *//* empty css                             *//* empty css                   *//* empty css                 *//* empty css                       *//* empty css                 *//* empty css                 *//* empty css                 *//* empty css                      *//* empty css               *//* empty css                  *//* empty css                     *//* empty css                        *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                *//* empty css               *//* empty css                *//* empty css                     *//* empty css                       */import{_ as Pe}from"./_plugin-vue_export-helper-8da67cfc.js";import{U as Ye,G as Ge,as as Le,h as Qe,at as Xe,E as k,k as He,c as Je,p as We,a4 as Ke,a5 as Ze,X as et,ap as tt,_ as lt,a2 as at,O as st,P as ot,aj as nt,M as it,aq as rt,ak as dt,au as ut,aw as ct,ax as pt,a3 as mt,a8 as _t,ac as vt,a7 as gt,W as ft,S as yt,Q as bt,R as ht,T as St}from"./elementPlus-9365ac08.js";import{r as E,X as L,k as kt,y as i,z as p,A as o,Q as t,I as l,u as B,M as r,O as n,J as Et,H as C,L as h,P as pe,a4 as me,C as _e}from"./vendor-b2a91a46.js";import"./utils-88d415ea.js";const Tt={class:"employee-shift-request-container"},Vt={class:"page-header"},Ct={class:"filter-bar"},qt={class:"stats-cards"},wt={class:"stats-content"},xt={class:"stats-number"},Dt={class:"stats-content"},It={class:"stats-number"},Rt={class:"stats-content"},zt={class:"stats-number"},$t={class:"stats-content"},Ut={class:"stats-number"},jt={key:0},At={key:1},Mt={key:0},Nt={key:1},Ft={key:0},Bt={key:1,class:"no-target"},Ot={class:"action-buttons"},Pt={key:0,class:"step-content"},Yt={key:0,class:"no-schedules"},Gt={key:1,class:"schedules-list"},Lt={class:"schedule-info"},Qt={class:"schedule-date"},Xt={class:"schedule-time"},Ht={class:"schedule-time-range"},Jt={key:1,class:"step-content"},Wt={key:0,class:"selected-schedule-info"},Kt={key:1},Zt={key:0,class:"no-swaps"},el={key:1,class:"swaps-list"},tl={class:"swap-info"},ll={class:"employee-name"},al={class:"employee-position"},sl={class:"swap-date"},ol={class:"swap-time"},nl={class:"swap-time-range"},il={key:2,class:"cancel-info"},rl={key:2,class:"step-content"},dl={class:"urgency-text"},ul={class:"dialog-footer"},cl={key:0,class:"request-detail"},pl={key:0},ml={key:1},_l={key:0},vl={key:1},gl={key:0},fl={key:1,class:"no-target"},yl={class:"response-note"},bl={__name:"ShiftRequest",setup(hl){const O=Be(),Q=E(!1),P=E(!1),j=E([]),K=E([]),Y=E([]),x=E([]),D=E(!1),G=E(!1),A=E(null),d=E(null),y=E(null),X=E(),f=E(1),q=L({type:"",status:"",dateRange:[]}),c=L({type:"",originalDate:"",requestedDate:"",urgency:3,reason:"",targetEmployeeId:null,targetScheduleId:null}),T=L({current:1,size:10,total:0}),M=L({pending:0,approved:0,rejected:0,total:0}),ve={type:[{required:!0,message:"请选择请求类型",trigger:"change"}],originalDate:[{required:!0,message:"请选择原班次日期",trigger:"change"}],requestedDate:[{required:!0,message:"请选择请求日期",trigger:"change"}],reason:[{required:!0,message:"请输入申请原因",trigger:"blur"}]},Z=a=>({leave:"请假",swap:"调班",overtime:"加班",change:"换班",cancel:"放弃值班"})[a]||a,ee=a=>({leave:"warning",swap:"success",overtime:"danger",change:"info",cancel:"danger"})[a]||"",te=a=>({pending:"待审核",approved:"已批准",rejected:"已拒绝"})[a]||a,le=a=>({pending:"warning",approved:"success",rejected:"danger"})[a]||"",ge=a=>({1:"低",2:"较低",3:"中等",4:"较高",5:"高"})[a]||"",fe=()=>f.value===1?y.value!==null:f.value===2?c.type&&(c.type==="cancel"||c.type==="swap"&&c.targetScheduleId):!0,ye=()=>{var m,_,v,g;if(!y.value)return"";if(c.type==="cancel")return`申请放弃值班: ${y.value.schedule_date} ${(m=y.value.timeSlot)==null?void 0:m.name}`;const a=x.value.find(b=>b.id===c.targetScheduleId),e=a==null?void 0:a.employee;return c.type==="swap"&&e&&a?`将 ${y.value.schedule_date} ${(_=y.value.timeSlot)==null?void 0:_.name} 与 ${e.name} 的 ${a.schedule_date} ${(v=a.timeSlot)==null?void 0:v.name} 进行交换`:`申请调班: ${y.value.schedule_date} ${(g=y.value.timeSlot)==null?void 0:g.name}`},w=async()=>{var a,e;Q.value=!0;try{const m=await U.getMyShiftRequests({page:T.current,size:T.size,...q});j.value=((a=m.data)==null?void 0:a.data)||[],T.total=((e=m.data)==null?void 0:e.total)||0;const _=j.value.filter(b=>b.status==="pending").length,v=j.value.filter(b=>b.status==="approved").length,g=j.value.filter(b=>b.status==="rejected").length;Object.assign(M,{pending:_,approved:v,rejected:g,total:_+v+g})}catch{k.error("获取申请记录失败")}finally{Q.value=!1}},be=async()=>{var a;try{console.log("开始获取员工列表，当前用户:",O.userInfo);const e=await Oe.getEmployees();if(console.log("员工API响应:",e),e.success!==!1){const m=((a=e.data)==null?void 0:a.data)||[];K.value=m.filter(_=>{var v;return _.id!==((v=O.userInfo)==null?void 0:v.id)}),console.log("员工视图员工列表加载成功:",K.value.length,"个员工 (排除自己)")}else console.error("获取员工列表失败 - 接口返回失败:",e),k.error(e.message||"获取员工列表失败")}catch(e){console.error("获取员工列表失败 - 网络错误:",e),k.error("获取员工列表失败: "+(e.message||"网络错误"))}},ae=async()=>{var a;try{console.log("获取我的排班列表，用户:",(a=O.userInfo)==null?void 0:a.name);const e=await U.getMySchedules();e.success!==!1?(Y.value=e.data||[],console.log("我的排班列表加载成功:",Y.value.length,"个排班")):(console.error("获取排班列表失败:",e),k.error("获取排班列表失败"))}catch(e){console.error("获取排班列表失败:",e),k.error("获取排班列表失败: "+(e.message||"网络错误"))}},he=async a=>{var e;try{const m=await U.getAvailableSwaps(a);m.success!==!1?(x.value=((e=m.data)==null?void 0:e.availableSwaps)||[],console.log("可交换选项加载成功:",x.value.length,"个选项")):(console.error("获取可交换选项失败:",m),k.error("获取可交换选项失败"))}catch(m){console.error("获取可交换选项失败:",m),k.error("获取可交换选项失败: "+(m.message||"网络错误"))}},Se=()=>{T.current=1,w()},ke=()=>{Object.assign(q,{type:"",status:"",dateRange:[]}),T.current=1,w()},Ee=a=>{d.value=a,G.value=!0},Te=a=>{A.value=a,Object.assign(c,{type:a.type,originalDate:a.originalDate,requestedDate:a.requestedDate,urgency:a.urgency,reason:a.reason,targetEmployeeId:a.targetEmployeeId||""}),D.value=!0},Ve=async a=>{try{await He.confirm("确定要撤销该申请吗？撤销后无法恢复。","确认撤销",{confirmButtonText:"确定撤销",cancelButtonText:"取消",type:"warning"}),await U.cancelRequest(a.id),k.success("申请已撤销"),w()}catch(e){e!=="cancel"&&k.error("撤销失败")}},Ce=async()=>{var a,e,m,_,v;try{f.value===3&&await X.value.validate(),P.value=!0;const g={...c,employeeId:(a=O.userInfo)==null?void 0:a.id,originalScheduleId:(e=y.value)==null?void 0:e.id,requestedDate:(m=y.value)==null?void 0:m.schedule_date};console.log("提交调班申请数据:",g),A.value?(await U.updateRequest(A.value.id,g),k.success("申请更新成功")):(await U.createRequest(g),k.success("调班申请提交成功，请等待审核")),D.value=!1,se(),w()}catch(g){console.error("提交申请失败:",g),(v=(_=g==null?void 0:g.response)==null?void 0:_.data)!=null&&v.message?k.error(g.response.data.message):k.error("操作失败: "+(g.message||"未知错误"))}finally{P.value=!1}},se=()=>{var a;Object.assign(c,{type:"",originalDate:"",requestedDate:"",urgency:3,reason:"",targetEmployeeId:null,targetScheduleId:null}),A.value=null,y.value=null,x.value=[],f.value=1,(a=X.value)==null||a.clearValidate()},qe=a=>{var e;c.targetScheduleId=a.id,c.targetEmployeeId=a.employee.id,console.log("选择交换选项:",{scheduleId:a.id,employeeName:a.employee.name,date:a.schedule_date,timeSlot:(e=a.timeSlot)==null?void 0:e.name})},we=async a=>{y.value=a,c.originalDate=a.schedule_date,c.type="",c.targetEmployeeId=null,c.targetScheduleId=null,await he(a.id),f.value=2},xe=()=>{f.value===1&&y.value?f.value=2:f.value===2&&(f.value=3)},De=()=>{f.value>1&&f.value--},Ie=()=>{se(),ae(),D.value=!0},Re=a=>{T.size=a,w()},ze=a=>{T.current=a,w()};return kt(()=>{w(),be(),ae()}),(a,e)=>{const m=Je,_=We,v=Ke,g=Ze,b=et,$e=tt,oe=lt,I=at,R=st,H=ot,V=nt,N=it,J=rt,Ue=dt,je=ut,W=ct,Ae=pt,ne=mt,ie=_t,re=vt,Me=gt,de=ft,ue=yt,S=bt,Ne=ht,Fe=St;return i(),p("div",Tt,[o("div",Vt,[e[14]||(e[14]=o("h1",null,"我的调班申请",-1)),t(_,{type:"primary",onClick:Ie},{default:l(()=>[t(m,null,{default:l(()=>[t(B(Ye))]),_:1}),e[13]||(e[13]=r(" 新增申请 ",-1))]),_:1,__:[13]})]),o("div",Ct,[t(oe,{inline:!0,model:q},{default:l(()=>[t(b,{label:"请求类型"},{default:l(()=>[t(g,{modelValue:q.type,"onUpdate:modelValue":e[0]||(e[0]=s=>q.type=s),placeholder:"请选择类型",clearable:""},{default:l(()=>[t(v,{label:"请假",value:"leave"}),t(v,{label:"调班",value:"swap"}),t(v,{label:"加班",value:"overtime"}),t(v,{label:"换班",value:"change"})]),_:1},8,["modelValue"])]),_:1}),t(b,{label:"状态"},{default:l(()=>[t(g,{modelValue:q.status,"onUpdate:modelValue":e[1]||(e[1]=s=>q.status=s),placeholder:"请选择状态",clearable:""},{default:l(()=>[t(v,{label:"待审核",value:"pending"}),t(v,{label:"已批准",value:"approved"}),t(v,{label:"已拒绝",value:"rejected"})]),_:1},8,["modelValue"])]),_:1}),t(b,{label:"日期范围"},{default:l(()=>[t($e,{modelValue:q.dateRange,"onUpdate:modelValue":e[2]||(e[2]=s=>q.dateRange=s),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"YYYY-MM-DD"},null,8,["modelValue"])]),_:1}),t(b,null,{default:l(()=>[t(_,{type:"primary",onClick:Se},{default:l(()=>e[15]||(e[15]=[r("搜索",-1)])),_:1,__:[15]}),t(_,{onClick:ke},{default:l(()=>e[16]||(e[16]=[r("重置",-1)])),_:1,__:[16]})]),_:1})]),_:1},8,["model"])]),o("div",qt,[t(H,{gutter:20},{default:l(()=>[t(R,{span:6},{default:l(()=>[t(I,{class:"stats-card pending"},{default:l(()=>[o("div",wt,[o("div",xt,n(M.pending),1),e[17]||(e[17]=o("div",{class:"stats-label"},"待审核",-1))]),t(m,{class:"stats-icon"},{default:l(()=>[t(B(Ge))]),_:1})]),_:1})]),_:1}),t(R,{span:6},{default:l(()=>[t(I,{class:"stats-card approved"},{default:l(()=>[o("div",Dt,[o("div",It,n(M.approved),1),e[18]||(e[18]=o("div",{class:"stats-label"},"已批准",-1))]),t(m,{class:"stats-icon"},{default:l(()=>[t(B(Le))]),_:1})]),_:1})]),_:1}),t(R,{span:6},{default:l(()=>[t(I,{class:"stats-card rejected"},{default:l(()=>[o("div",Rt,[o("div",zt,n(M.rejected),1),e[19]||(e[19]=o("div",{class:"stats-label"},"已拒绝",-1))]),t(m,{class:"stats-icon"},{default:l(()=>[t(B(Qe))]),_:1})]),_:1})]),_:1}),t(R,{span:6},{default:l(()=>[t(I,{class:"stats-card total"},{default:l(()=>[o("div",$t,[o("div",Ut,n(M.total),1),e[20]||(e[20]=o("div",{class:"stats-label"},"我的申请总数",-1))]),t(m,{class:"stats-icon"},{default:l(()=>[t(B(Xe))]),_:1})]),_:1})]),_:1})]),_:1})]),Et((i(),C(Ue,{data:j.value,border:""},{default:l(()=>[t(V,{prop:"id",label:"申请编号",width:"100"}),t(V,{prop:"type",label:"请求类型",width:"120"},{default:l(({row:s})=>[t(N,{type:ee(s.type)},{default:l(()=>[r(n(Z(s.type)),1)]),_:2},1032,["type"])]),_:1}),t(V,{prop:"originalDate",label:"原班次日期",width:"120"}),t(V,{label:"原班次时间段",width:"150"},{default:l(({row:s})=>[s.originalTimeSlot?(i(),p("div",jt,[r(n(s.originalTimeSlot.name),1),e[21]||(e[21]=o("br",null,null,-1)),o("small",null,n(s.originalTimeSlot.startTime)+" - "+n(s.originalTimeSlot.endTime),1)])):(i(),p("span",At,"-"))]),_:1}),t(V,{prop:"requestedDate",label:"请求日期",width:"120"}),t(V,{label:"目标时间段",width:"150"},{default:l(({row:s})=>[s.targetTimeSlot?(i(),p("div",Mt,[r(n(s.targetTimeSlot.name),1),e[22]||(e[22]=o("br",null,null,-1)),o("small",null,n(s.targetTimeSlot.startTime)+" - "+n(s.targetTimeSlot.endTime),1)])):(i(),p("span",Nt,"-"))]),_:1}),t(V,{label:"目标员工",width:"120"},{default:l(({row:s})=>[s.targetEmployee?(i(),p("span",Ft,n(s.targetEmployee.name),1)):(i(),p("span",Bt,"-"))]),_:1}),t(V,{prop:"reason",label:"申请原因","show-overflow-tooltip":""}),t(V,{prop:"status",label:"状态",width:"100"},{default:l(({row:s})=>[t(N,{type:le(s.status)},{default:l(()=>[r(n(te(s.status)),1)]),_:2},1032,["type"])]),_:1}),t(V,{prop:"urgency",label:"紧急程度",width:"120"},{default:l(({row:s})=>[t(J,{modelValue:s.urgency,"onUpdate:modelValue":u=>s.urgency=u,disabled:"","show-score":""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(V,{prop:"createdAt",label:"申请时间",width:"160"}),t(V,{label:"操作",width:"180",fixed:"right"},{default:l(({row:s})=>[o("div",Ot,[t(_,{size:"small",onClick:u=>Ee(s)},{default:l(()=>e[23]||(e[23]=[r("查看",-1)])),_:2,__:[23]},1032,["onClick"]),s.status==="pending"?(i(),C(_,{key:0,size:"small",type:"primary",onClick:u=>Te(s)},{default:l(()=>e[24]||(e[24]=[r(" 编辑 ",-1)])),_:2,__:[24]},1032,["onClick"])):h("",!0),s.status==="pending"?(i(),C(_,{key:1,size:"small",type:"danger",onClick:u=>Ve(s)},{default:l(()=>e[25]||(e[25]=[r(" 撤销 ",-1)])),_:2,__:[25]},1032,["onClick"])):h("",!0)])]),_:1})]),_:1},8,["data"])),[[Fe,Q.value]]),t(je,{"current-page":T.current,"onUpdate:currentPage":e[3]||(e[3]=s=>T.current=s),"page-size":T.size,"onUpdate:pageSize":e[4]||(e[4]=s=>T.size=s),"page-sizes":[10,20,50],total:T.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:Re,onCurrentChange:ze},null,8,["current-page","page-size","total"]),t(ue,{modelValue:D.value,"onUpdate:modelValue":e[9]||(e[9]=s=>D.value=s),title:A.value?"编辑申请":"新增调班申请",width:"700px","close-on-click-modal":!1},{footer:l(()=>[o("div",ul,[t(_,{onClick:e[8]||(e[8]=s=>D.value=!1)},{default:l(()=>e[33]||(e[33]=[r("取消",-1)])),_:1,__:[33]}),f.value>1?(i(),C(_,{key:0,onClick:De},{default:l(()=>e[34]||(e[34]=[r("上一步",-1)])),_:1,__:[34]})):h("",!0),f.value<3?(i(),C(_,{key:1,type:"primary",onClick:xe,disabled:!fe()},{default:l(()=>e[35]||(e[35]=[r(" 下一步 ",-1)])),_:1,__:[35]},8,["disabled"])):h("",!0),f.value===3?(i(),C(_,{key:2,type:"primary",onClick:Ce,loading:P.value},{default:l(()=>[r(n(P.value?"提交中...":"提交申请"),1)]),_:1},8,["loading"])):h("",!0)])]),default:l(()=>{var s;return[t(Ae,{active:f.value-1,"finish-status":"success",style:{"margin-bottom":"30px"}},{default:l(()=>[t(W,{title:"选择排班",description:"选择要调班的时间"}),t(W,{title:"选择交换",description:"选择交换方式"}),t(W,{title:"填写信息",description:"完善申请信息"})]),_:1},8,["active"]),f.value===1?(i(),p("div",Pt,[e[26]||(e[26]=o("h3",null,"请选择您要申请调班的排班时间：",-1)),Y.value.length===0?(i(),p("div",Yt,[t(ne,{description:"暂无可调班的排班"})])):(i(),p("div",Gt,[t(H,{gutter:15},{default:l(()=>[(i(!0),p(pe,null,me(Y.value,u=>(i(),C(R,{span:12,key:u.id},{default:l(()=>{var z;return[t(I,{class:_e(["schedule-card",{selected:((z=y.value)==null?void 0:z.id)===u.id}]),onClick:$=>we(u),shadow:"hover"},{default:l(()=>{var $,F,ce;return[o("div",Lt,[o("div",Qt,n(u.schedule_date),1),o("div",Xt,n(($=u.timeSlot)==null?void 0:$.name),1),o("div",Ht,n((F=u.timeSlot)==null?void 0:F.start_time)+" - "+n((ce=u.timeSlot)==null?void 0:ce.end_time),1)])]}),_:2},1032,["class","onClick"])]}),_:2},1024))),128))]),_:1})]))])):h("",!0),f.value===2?(i(),p("div",Jt,[e[31]||(e[31]=o("h3",null,"选择交换方式：",-1)),y.value?(i(),p("div",Wt,[t(ie,{title:`已选择: ${y.value.schedule_date} ${(s=y.value.timeSlot)==null?void 0:s.name}`,type:"info",closable:!1,style:{"margin-bottom":"20px"}},null,8,["title"])])):h("",!0),t(Me,{modelValue:c.type,"onUpdate:modelValue":e[5]||(e[5]=u=>c.type=u),style:{"margin-bottom":"20px"}},{default:l(()=>[t(re,{label:"swap"},{default:l(()=>e[27]||(e[27]=[r("与其他员工换班",-1)])),_:1,__:[27]}),t(re,{label:"cancel"},{default:l(()=>e[28]||(e[28]=[r("放弃值班",-1)])),_:1,__:[28]})]),_:1},8,["modelValue"]),c.type==="swap"?(i(),p("div",Kt,[e[29]||(e[29]=o("h4",null,"可交换的选项：",-1)),x.value.length===0?(i(),p("div",Zt,[t(ne,{description:"当天暂无其他员工的排班可供交换"})])):(i(),p("div",el,[t(H,{gutter:15},{default:l(()=>[(i(!0),p(pe,null,me(x.value,u=>(i(),C(R,{span:12,key:u.id},{default:l(()=>[t(I,{class:_e(["swap-card",{selected:c.targetScheduleId===u.id}]),onClick:z=>qe(u),shadow:"hover"},{default:l(()=>{var z,$,F;return[o("div",tl,[o("div",ll,n(u.employee.name),1),o("div",al,n(u.employee.position),1),o("div",sl,n(u.schedule_date),1),o("div",ol,n((z=u.timeSlot)==null?void 0:z.name),1),o("div",nl,n(($=u.timeSlot)==null?void 0:$.start_time)+" - "+n((F=u.timeSlot)==null?void 0:F.end_time),1)])]}),_:2},1032,["class","onClick"])]),_:2},1024))),128))]),_:1})]))])):h("",!0),c.type==="cancel"?(i(),p("div",il,[t(ie,{title:"放弃值班说明",type:"warning",closable:!1,style:{"margin-bottom":"15px"}},{default:l(()=>e[30]||(e[30]=[r(" 您选择放弃该值班，系统将尝试重新安排其他员工顶替。请在下一步详细说明放弃原因。 ",-1)])),_:1})])):h("",!0)])):h("",!0),f.value===3?(i(),p("div",rl,[e[32]||(e[32]=o("h3",null,"完善申请信息：",-1)),t(oe,{model:c,rules:ve,ref_key:"requestFormRef",ref:X,"label-width":"100px"},{default:l(()=>[t(b,{label:"申请摘要"},{default:l(()=>[t(de,{value:ye(),readonly:"",style:{width:"100%"}},null,8,["value"])]),_:1}),t(b,{label:"紧急程度"},{default:l(()=>[t(J,{modelValue:c.urgency,"onUpdate:modelValue":e[6]||(e[6]=u=>c.urgency=u)},null,8,["modelValue"]),o("span",dl,n(ge(c.urgency)),1)]),_:1}),t(b,{label:"申请原因",prop:"reason"},{default:l(()=>[t(de,{modelValue:c.reason,"onUpdate:modelValue":e[7]||(e[7]=u=>c.reason=u),type:"textarea",rows:4,placeholder:"请详细说明申请调班的原因..."},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])):h("",!0)]}),_:1},8,["modelValue","title"]),t(ue,{modelValue:G.value,"onUpdate:modelValue":e[12]||(e[12]=s=>G.value=s),title:"申请详情",width:"700px"},{footer:l(()=>[t(_,{onClick:e[11]||(e[11]=s=>G.value=!1)},{default:l(()=>e[38]||(e[38]=[r("关闭",-1)])),_:1,__:[38]})]),default:l(()=>[d.value?(i(),p("div",cl,[t(Ne,{column:2,border:""},{default:l(()=>[t(S,{label:"申请编号"},{default:l(()=>[r(n(d.value.id),1)]),_:1}),t(S,{label:"请求类型"},{default:l(()=>[t(N,{type:ee(d.value.type)},{default:l(()=>[r(n(Z(d.value.type)),1)]),_:1},8,["type"])]),_:1}),t(S,{label:"原班次日期"},{default:l(()=>[r(n(d.value.originalDate),1)]),_:1}),t(S,{label:"原班次时间段"},{default:l(()=>[d.value.originalTimeSlot?(i(),p("div",pl,[r(n(d.value.originalTimeSlot.name),1),e[36]||(e[36]=o("br",null,null,-1)),o("small",null,n(d.value.originalTimeSlot.startTime)+" - "+n(d.value.originalTimeSlot.endTime),1)])):(i(),p("span",ml,"-"))]),_:1}),t(S,{label:"请求日期"},{default:l(()=>[r(n(d.value.requestedDate),1)]),_:1}),t(S,{label:"目标时间段"},{default:l(()=>[d.value.targetTimeSlot?(i(),p("div",_l,[r(n(d.value.targetTimeSlot.name),1),e[37]||(e[37]=o("br",null,null,-1)),o("small",null,n(d.value.targetTimeSlot.startTime)+" - "+n(d.value.targetTimeSlot.endTime),1)])):(i(),p("span",vl,"-"))]),_:1}),t(S,{label:"目标员工"},{default:l(()=>[d.value.targetEmployee?(i(),p("span",gl,[r(n(d.value.targetEmployee.name)+" ",1),t(N,{size:"small",type:"info"},{default:l(()=>[r(n(d.value.targetEmployee.position),1)]),_:1})])):(i(),p("span",fl,"无"))]),_:1}),t(S,{label:"紧急程度"},{default:l(()=>[t(J,{modelValue:d.value.urgency,"onUpdate:modelValue":e[10]||(e[10]=s=>d.value.urgency=s),disabled:"","show-score":""},null,8,["modelValue"])]),_:1}),t(S,{label:"状态"},{default:l(()=>[t(N,{type:le(d.value.status)},{default:l(()=>[r(n(te(d.value.status)),1)]),_:1},8,["type"])]),_:1}),t(S,{label:"申请时间",span:2},{default:l(()=>[r(n(d.value.createdAt),1)]),_:1}),t(S,{label:"申请原因",span:2},{default:l(()=>[r(n(d.value.reason),1)]),_:1}),d.value.responseNote?(i(),C(S,{key:0,label:"审核意见",span:2},{default:l(()=>[o("div",yl,n(d.value.responseNote),1)]),_:1})):h("",!0),d.value.reviewedAt?(i(),C(S,{key:1,label:"审核时间",span:2},{default:l(()=>[r(n(d.value.reviewedAt),1)]),_:1})):h("",!0)]),_:1})])):h("",!0)]),_:1},8,["modelValue"])])}}},Ll=Pe(bl,[["__scopeId","data-v-ff92615f"]]);export{Ll as default};
