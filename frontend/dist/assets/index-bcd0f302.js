import{ax as F,ay as D,az as I,r as k,k as R,al as B,y as S,z as w,Q as y,I as C,au as T,aA as P}from"./vendor-b2a91a46.js";import{a as L}from"./utils-88d415ea.js";import{E as c,a as q,b as O,i as $}from"./elementPlus-9365ac08.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function u(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=u(o);fetch(o.href,a)}})();var v={name:"zh-cn",el:{breadcrumb:{label:"面包屑"},colorpicker:{confirm:"确定",clear:"清空",defaultLabel:"颜色选择器",description:"当前颜色 {color}，按 Enter 键选择新颜色",alphaLabel:"选择透明度的值"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",dateTablePrompt:"使用方向键与 Enter 键可选择日期",monthTablePrompt:"使用方向键与 Enter 键可选择月份",yearTablePrompt:"使用方向键与 Enter 键可选择年份",selectedDate:"已选日期",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},weeksFull:{sun:"星期日",mon:"星期一",tue:"星期二",wed:"星期三",thu:"星期四",fri:"星期五",sat:"星期六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},inputNumber:{decrease:"减少数值",increase:"增加数值"},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},dropdown:{toggleDropdown:"切换下拉选项"},mention:{loading:"加载中"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页",page:"页",prev:"上一页",next:"下一页",currentPage:"第 {pager} 页",prevPages:"向前 {pager} 页",nextPages:"向后 {pager} 页",deprecationWarning:"你使用了一些已被废弃的用法，请参考 el-pagination 的官方文档"},dialog:{close:"关闭此对话框"},drawer:{close:"关闭此对话框"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!",close:"关闭此对话框"},upload:{deleteTip:"按 Delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},slider:{defaultLabel:"滑块介于 {min} 至 {max}",defaultRangeStartLabel:"选择起始值",defaultRangeEndLabel:"选择结束值"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tour:{next:"下一步",previous:"上一步",finish:"结束导览"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"},carousel:{leftArrow:"上一张幻灯片",rightArrow:"下一张幻灯片",indicator:"幻灯片切换至索引 {index}"}}};const V="modulepreload",U=function(e){return"/"+e},_={},n=function(t,u,s){if(!u||u.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(u.map(a=>{if(a=U(a),a in _)return;_[a]=!0;const i=a.endsWith(".css"),b=i?'[rel="stylesheet"]':"";if(!!s)for(let d=o.length-1;d>=0;d--){const h=o[d];if(h.href===a&&(!i||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${b}`))return;const p=document.createElement("link");if(p.rel=i?"stylesheet":V,i||(p.as="script",p.crossOrigin=""),p.href=a,document.head.appendChild(p),i)return new Promise((d,h)=>{p.addEventListener("load",d),p.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=a,window.dispatchEvent(i),!i.defaultPrevented)throw a})},A=()=>n(()=>import("./index-968a204c.js"),["assets/index-968a204c.js","assets/_plugin-vue_export-helper-8da67cfc.js","assets/_plugin-vue_export-helper-f2767652.css","assets/el-tooltip-4ed993c7.js","assets/vendor-b2a91a46.js","assets/elementPlus-9365ac08.js","assets/utils-88d415ea.js","assets/index-4fe5515a.css","assets/el-drawer-cc4b4987.css","assets/el-overlay-6e0625dd.css","assets/el-scrollbar-e74ef585.css","assets/el-avatar-81b3c699.css","assets/el-badge-52ab9dec.css"]),M=()=>n(()=>import("./index-ff0da430.js"),["assets/index-ff0da430.js","assets/_plugin-vue_export-helper-8da67cfc.js","assets/_plugin-vue_export-helper-f2767652.css","assets/vendor-b2a91a46.js","assets/elementPlus-9365ac08.js","assets/settingsService-87306db1.js","assets/utils-88d415ea.js","assets/index-802612e0.css","assets/el-dialog-9a24acd7.css","assets/el-overlay-6e0625dd.css","assets/el-descriptions-item-3a3080a1.css","assets/el-badge-52ab9dec.css","assets/el-col-60e44389.css","assets/el-text-2fbae9e6.css","assets/el-tag-afac09bb.css"]),j=()=>n(()=>import("./Login-e5b41464.js"),["assets/Login-e5b41464.js","assets/_plugin-vue_export-helper-8da67cfc.js","assets/_plugin-vue_export-helper-f2767652.css","assets/vendor-b2a91a46.js","assets/Captcha-8c4565ef.js","assets/elementPlus-9365ac08.js","assets/Captcha-ad009cf8.css","assets/el-input-1c9c9a0b.css","assets/utils-88d415ea.js","assets/Login-c0fb08fd.css","assets/el-form-item-36279550.css","assets/el-link-12bb74ea.css","assets/el-checkbox-4bf2f35b.css"]),x=()=>n(()=>import("./Register-d8ede6c3.js"),["assets/Register-d8ede6c3.js","assets/_plugin-vue_export-helper-8da67cfc.js","assets/_plugin-vue_export-helper-f2767652.css","assets/vendor-b2a91a46.js","assets/elementPlus-9365ac08.js","assets/Captcha-8c4565ef.js","assets/Captcha-ad009cf8.css","assets/el-input-1c9c9a0b.css","assets/utils-88d415ea.js","assets/Register-45af080e.css","assets/el-form-item-36279550.css","assets/el-link-12bb74ea.css","assets/el-checkbox-4bf2f35b.css"]),W=()=>n(()=>import("./ForgotPassword-7b40945f.js"),["assets/ForgotPassword-7b40945f.js","assets/_plugin-vue_export-helper-8da67cfc.js","assets/_plugin-vue_export-helper-f2767652.css","assets/vendor-b2a91a46.js","assets/utils-88d415ea.js","assets/elementPlus-9365ac08.js","assets/ForgotPassword-6e97068a.css","assets/el-link-12bb74ea.css","assets/el-form-item-36279550.css","assets/el-input-1c9c9a0b.css"]),N=()=>n(()=>import("./ResetPassword-2d8e6586.js"),["assets/ResetPassword-2d8e6586.js","assets/_plugin-vue_export-helper-8da67cfc.js","assets/_plugin-vue_export-helper-f2767652.css","assets/vendor-b2a91a46.js","assets/utils-88d415ea.js","assets/elementPlus-9365ac08.js","assets/ResetPassword-9b8890e8.css","assets/el-link-12bb74ea.css","assets/el-form-item-36279550.css","assets/el-input-1c9c9a0b.css"]),H=()=>n(()=>import("./index-c632c572.js"),["assets/index-c632c572.js","assets/_plugin-vue_export-helper-8da67cfc.js","assets/_plugin-vue_export-helper-f2767652.css","assets/vendor-b2a91a46.js","assets/elementPlus-9365ac08.js","assets/utils-88d415ea.js","assets/index-28d88957.css","assets/el-dialog-9a24acd7.css","assets/el-alert-c5e82332.css","assets/el-overlay-6e0625dd.css","assets/el-form-item-36279550.css","assets/el-radio-group-3b9ac3ad.css","assets/el-radio-button-3530501d.css","assets/el-tag-afac09bb.css","assets/el-select-3cff20ef.css","assets/el-scrollbar-e74ef585.css","assets/el-empty-06735b9d.css","assets/el-avatar-81b3c699.css","assets/el-card-7155ea48.css","assets/el-input-1c9c9a0b.css"]),z=()=>n(()=>import("./index-0812ef2e.js"),["assets/index-0812ef2e.js","assets/el-tooltip-4ed993c7.js","assets/_plugin-vue_export-helper-8da67cfc.js","assets/_plugin-vue_export-helper-f2767652.css","assets/vendor-b2a91a46.js","assets/elementPlus-9365ac08.js","assets/settingsService-87306db1.js","assets/WeekRangeSelector-08a2a9b6.js","assets/WeekRangeSelector-7e54a1a5.css","assets/el-tag-afac09bb.css","assets/el-form-item-36279550.css","assets/el-input-1c9c9a0b.css","assets/el-input-number-01d2339a.css","assets/el-checkbox-4bf2f35b.css","assets/utils-88d415ea.js","assets/index-0da7193e.css","assets/el-dialog-9a24acd7.css","assets/el-avatar-81b3c699.css","assets/el-overlay-6e0625dd.css","assets/el-radio-group-3b9ac3ad.css","assets/el-radio-button-3530501d.css","assets/el-alert-c5e82332.css","assets/el-scrollbar-e74ef585.css","assets/el-card-7155ea48.css","assets/el-drawer-cc4b4987.css","assets/el-table-column-790a14bb.css","assets/el-tab-pane-8e0691fd.css","assets/el-checkbox-group-987ef89c.css","assets/el-select-3cff20ef.css","assets/el-radio-1b54e798.css"]),G=()=>n(()=>import("./index-5dd1afec.js"),["assets/index-5dd1afec.js","assets/el-tooltip-4ed993c7.js","assets/_plugin-vue_export-helper-8da67cfc.js","assets/_plugin-vue_export-helper-f2767652.css","assets/vendor-b2a91a46.js","assets/elementPlus-9365ac08.js","assets/WeekRangeSelector-08a2a9b6.js","assets/settingsService-87306db1.js","assets/WeekRangeSelector-7e54a1a5.css","assets/el-tag-afac09bb.css","assets/el-form-item-36279550.css","assets/el-input-1c9c9a0b.css","assets/el-input-number-01d2339a.css","assets/el-checkbox-4bf2f35b.css","assets/utils-88d415ea.js","assets/index-0c101b19.css","assets/el-dialog-9a24acd7.css","assets/el-tab-pane-8e0691fd.css","assets/el-radio-1b54e798.css","assets/el-scrollbar-e74ef585.css","assets/el-table-column-790a14bb.css","assets/el-overlay-6e0625dd.css","assets/el-rate-a503cfea.css","assets/el-checkbox-group-987ef89c.css","assets/el-date-picker-025a8032.css","assets/el-alert-c5e82332.css","assets/el-radio-group-3b9ac3ad.css","assets/el-radio-button-3530501d.css","assets/el-card-7155ea48.css","assets/el-select-3cff20ef.css"]),Y=()=>n(()=>import("./index-2d8da1d8.js"),["assets/index-2d8da1d8.js","assets/el-tooltip-4ed993c7.js","assets/_plugin-vue_export-helper-8da67cfc.js","assets/_plugin-vue_export-helper-f2767652.css","assets/elementPlus-9365ac08.js","assets/vendor-b2a91a46.js","assets/utils-88d415ea.js","assets/index-d049084b.css","assets/el-dialog-9a24acd7.css","assets/el-overlay-6e0625dd.css","assets/el-input-1c9c9a0b.css","assets/el-descriptions-item-3a3080a1.css","assets/el-pagination-5496530f.css","assets/el-tag-afac09bb.css","assets/el-select-3cff20ef.css","assets/el-scrollbar-e74ef585.css","assets/el-table-column-790a14bb.css","assets/el-checkbox-4bf2f35b.css","assets/el-rate-a503cfea.css","assets/el-col-60e44389.css","assets/el-card-7155ea48.css","assets/el-form-item-36279550.css","assets/el-date-picker-025a8032.css"]),K=()=>n(()=>import("./index-0805526e.js"),["assets/index-0805526e.js","assets/_plugin-vue_export-helper-8da67cfc.js","assets/_plugin-vue_export-helper-f2767652.css","assets/elementPlus-9365ac08.js","assets/vendor-b2a91a46.js","assets/el-tooltip-4ed993c7.js","assets/utils-88d415ea.js","assets/index-46d3a710.css","assets/el-tab-pane-8e0691fd.css","assets/el-card-7155ea48.css","assets/el-form-item-36279550.css","assets/el-checkbox-group-987ef89c.css","assets/el-checkbox-4bf2f35b.css","assets/el-date-picker-025a8032.css","assets/el-input-1c9c9a0b.css","assets/el-scrollbar-e74ef585.css","assets/el-dialog-9a24acd7.css","assets/el-overlay-6e0625dd.css","assets/el-tag-afac09bb.css","assets/el-select-3cff20ef.css","assets/el-table-column-790a14bb.css","assets/el-col-60e44389.css","assets/el-input-number-01d2339a.css"]),Q=()=>n(()=>import("./ShiftRequest-c290f2d2.js"),["assets/ShiftRequest-c290f2d2.js","assets/el-tooltip-4ed993c7.js","assets/_plugin-vue_export-helper-8da67cfc.js","assets/_plugin-vue_export-helper-f2767652.css","assets/elementPlus-9365ac08.js","assets/vendor-b2a91a46.js","assets/utils-88d415ea.js","assets/ShiftRequest-a63292bb.css","assets/el-dialog-9a24acd7.css","assets/el-descriptions-item-3a3080a1.css","assets/el-overlay-6e0625dd.css","assets/el-input-1c9c9a0b.css","assets/el-radio-group-3b9ac3ad.css","assets/el-radio-1b54e798.css","assets/el-alert-c5e82332.css","assets/el-empty-06735b9d.css","assets/el-pagination-5496530f.css","assets/el-tag-afac09bb.css","assets/el-select-3cff20ef.css","assets/el-scrollbar-e74ef585.css","assets/el-table-column-790a14bb.css","assets/el-checkbox-4bf2f35b.css","assets/el-rate-a503cfea.css","assets/el-col-60e44389.css","assets/el-card-7155ea48.css","assets/el-form-item-36279550.css","assets/el-date-picker-025a8032.css"]),J=()=>n(()=>import("./Availability-ac234442.js"),["assets/Availability-ac234442.js","assets/_plugin-vue_export-helper-8da67cfc.js","assets/_plugin-vue_export-helper-f2767652.css","assets/vendor-b2a91a46.js","assets/elementPlus-9365ac08.js","assets/WeekRangeSelector-08a2a9b6.js","assets/settingsService-87306db1.js","assets/WeekRangeSelector-7e54a1a5.css","assets/el-tag-afac09bb.css","assets/el-form-item-36279550.css","assets/el-input-1c9c9a0b.css","assets/el-input-number-01d2339a.css","assets/el-checkbox-4bf2f35b.css","assets/utils-88d415ea.js","assets/Availability-0b78bca1.css","assets/el-dialog-9a24acd7.css","assets/el-overlay-6e0625dd.css","assets/el-rate-a503cfea.css","assets/el-date-picker-025a8032.css","assets/el-scrollbar-e74ef585.css","assets/el-card-7155ea48.css","assets/el-tab-pane-8e0691fd.css","assets/el-empty-06735b9d.css","assets/el-alert-c5e82332.css","assets/el-checkbox-group-987ef89c.css"]),X=()=>n(()=>import("./ChangePassword-340b5665.js"),["assets/ChangePassword-340b5665.js","assets/_plugin-vue_export-helper-8da67cfc.js","assets/_plugin-vue_export-helper-f2767652.css","assets/vendor-b2a91a46.js","assets/elementPlus-9365ac08.js","assets/utils-88d415ea.js","assets/ChangePassword-65da2d02.css","assets/el-card-7155ea48.css","assets/el-form-item-36279550.css","assets/el-input-1c9c9a0b.css"]),Z=()=>n(()=>import("./ChangePassword-af414574.js"),["assets/ChangePassword-af414574.js","assets/_plugin-vue_export-helper-8da67cfc.js","assets/_plugin-vue_export-helper-f2767652.css","assets/vendor-b2a91a46.js","assets/elementPlus-9365ac08.js","assets/utils-88d415ea.js","assets/ChangePassword-6fa08d33.css","assets/el-card-7155ea48.css","assets/el-form-item-36279550.css","assets/el-input-1c9c9a0b.css"]),ee=[{path:"/login",name:"Login",component:j,meta:{title:"用户登录",requiresAuth:!1}},{path:"/register",name:"Register",component:x,meta:{title:"员工注册",requiresAuth:!1}},{path:"/forgot-password",name:"ForgotPassword",component:W,meta:{title:"忘记密码",requiresAuth:!1}},{path:"/reset-password",name:"ResetPassword",component:N,meta:{title:"重置密码",requiresAuth:!1}},{path:"/admin",component:A,redirect:"/admin/dashboard",meta:{requiresAuth:!0,requiresRole:"admin"},children:[{path:"dashboard",name:"AdminDashboard",component:M,meta:{title:"首页概览",icon:"HomeFilled"}},{path:"employees",name:"Employees",component:H,meta:{title:"员工管理",icon:"User"}},{path:"schedules",name:"Schedules",component:z,meta:{title:"排班管理",icon:"Calendar"}},{path:"availability",name:"Availability",component:G,meta:{title:"可用性管理",icon:"Clock"}},{path:"shift-requests",name:"ShiftRequests",component:Y,meta:{title:"班次请求管理",icon:"Document"}},{path:"settings",name:"Settings",component:K,meta:{title:"系统设置",icon:"Setting"}},{path:"work-hours",name:"AdminWorkHours",component:()=>n(()=>import("./WorkHoursStatistics-7b93bbb8.js"),["assets/WorkHoursStatistics-7b93bbb8.js","assets/el-tooltip-4ed993c7.js","assets/_plugin-vue_export-helper-8da67cfc.js","assets/_plugin-vue_export-helper-f2767652.css","assets/WeekRangeSelector-08a2a9b6.js","assets/vendor-b2a91a46.js","assets/elementPlus-9365ac08.js","assets/settingsService-87306db1.js","assets/WeekRangeSelector-7e54a1a5.css","assets/el-tag-afac09bb.css","assets/el-form-item-36279550.css","assets/el-input-1c9c9a0b.css","assets/el-input-number-01d2339a.css","assets/el-checkbox-4bf2f35b.css","assets/utils-88d415ea.js","assets/WorkHoursStatistics-302d040f.css","assets/el-table-column-790a14bb.css","assets/el-scrollbar-e74ef585.css","assets/el-card-7155ea48.css","assets/el-select-3cff20ef.css"]),meta:{title:"工时统计",icon:"Clock"}},{path:"referral-management",name:"AdminReferralManagement",component:()=>n(()=>import("./ReferralManagement-098f8b47.js"),["assets/ReferralManagement-098f8b47.js","assets/el-tooltip-4ed993c7.js","assets/_plugin-vue_export-helper-8da67cfc.js","assets/_plugin-vue_export-helper-f2767652.css","assets/elementPlus-9365ac08.js","assets/vendor-b2a91a46.js","assets/utils-88d415ea.js","assets/ReferralManagement-7a03360f.css","assets/el-dialog-9a24acd7.css","assets/el-overlay-6e0625dd.css","assets/el-form-item-36279550.css","assets/el-input-1c9c9a0b.css","assets/el-tab-pane-8e0691fd.css","assets/el-empty-06735b9d.css","assets/el-badge-52ab9dec.css","assets/el-table-column-790a14bb.css","assets/el-checkbox-4bf2f35b.css","assets/el-scrollbar-e74ef585.css","assets/el-tag-afac09bb.css","assets/el-col-60e44389.css","assets/el-card-7155ea48.css"]),meta:{title:"推荐人员管理",icon:"Connection"}},{path:"change-password",name:"AdminChangePassword",component:Z,meta:{title:"修改密码",icon:"Lock"}}]},{path:"/employee",component:A,redirect:"/employee/dashboard",meta:{requiresAuth:!0,requiresRole:"employee"},children:[{path:"dashboard",name:"EmployeeDashboard",component:()=>n(()=>import("./Dashboard-1b93922b.js"),["assets/Dashboard-1b93922b.js","assets/_plugin-vue_export-helper-8da67cfc.js","assets/_plugin-vue_export-helper-f2767652.css","assets/vendor-b2a91a46.js","assets/elementPlus-9365ac08.js","assets/settingsService-87306db1.js","assets/utils-88d415ea.js","assets/Dashboard-f572fc5a.css","assets/el-dialog-9a24acd7.css","assets/el-overlay-6e0625dd.css","assets/el-descriptions-item-3a3080a1.css","assets/el-card-7155ea48.css","assets/el-col-60e44389.css","assets/el-text-2fbae9e6.css","assets/el-tag-afac09bb.css"]),meta:{title:"工作台",icon:"HomeFilled"}},{path:"shift-requests",name:"EmployeeShiftRequests",component:Q,meta:{title:"我的调班申请",icon:"Document"}},{path:"availability",name:"EmployeeAvailability",component:J,meta:{title:"空闲时间管理",icon:"Calendar"}},{path:"work-hours",name:"EmployeeWorkHours",component:()=>n(()=>import("./WorkHoursStatistics-bef0abfc.js"),["assets/WorkHoursStatistics-bef0abfc.js","assets/el-tooltip-4ed993c7.js","assets/_plugin-vue_export-helper-8da67cfc.js","assets/_plugin-vue_export-helper-f2767652.css","assets/WeekRangeSelector-08a2a9b6.js","assets/vendor-b2a91a46.js","assets/elementPlus-9365ac08.js","assets/settingsService-87306db1.js","assets/WeekRangeSelector-7e54a1a5.css","assets/el-tag-afac09bb.css","assets/el-form-item-36279550.css","assets/el-input-1c9c9a0b.css","assets/el-input-number-01d2339a.css","assets/el-checkbox-4bf2f35b.css","assets/utils-88d415ea.js","assets/WorkHoursStatistics-c6aaca6b.css","assets/el-empty-06735b9d.css","assets/el-table-column-790a14bb.css","assets/el-scrollbar-e74ef585.css","assets/el-col-60e44389.css","assets/el-card-7155ea48.css"]),meta:{title:"我的工时",icon:"Clock"}},{path:"referral-management",name:"EmployeeReferralManagement",component:()=>n(()=>import("./ReferralManagement-c8d2dfe1.js"),["assets/ReferralManagement-c8d2dfe1.js","assets/el-tooltip-4ed993c7.js","assets/_plugin-vue_export-helper-8da67cfc.js","assets/_plugin-vue_export-helper-f2767652.css","assets/elementPlus-9365ac08.js","assets/vendor-b2a91a46.js","assets/utils-88d415ea.js","assets/ReferralManagement-236c2050.css","assets/el-dialog-9a24acd7.css","assets/el-overlay-6e0625dd.css","assets/el-text-2fbae9e6.css","assets/el-input-1c9c9a0b.css","assets/el-alert-c5e82332.css","assets/el-empty-06735b9d.css","assets/el-table-column-790a14bb.css","assets/el-checkbox-4bf2f35b.css","assets/el-scrollbar-e74ef585.css","assets/el-tag-afac09bb.css","assets/el-descriptions-item-3a3080a1.css","assets/el-col-60e44389.css","assets/el-card-7155ea48.css"]),meta:{title:"我的推荐",icon:"Share"}},{path:"change-password",name:"EmployeeChangePassword",component:X,meta:{title:"修改密码",icon:"Lock"}}]},{path:"/",redirect:e=>"/login",meta:{requiresAuth:!0}},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>n(()=>import("./404-da9ccf79.js"),["assets/404-da9ccf79.js","assets/_plugin-vue_export-helper-8da67cfc.js","assets/_plugin-vue_export-helper-f2767652.css","assets/vendor-b2a91a46.js","assets/elementPlus-9365ac08.js","assets/utils-88d415ea.js","assets/404-4c4560fd.css"]),meta:{title:"页面未找到"}}],f=F({history:D(),routes:ee,scrollBehavior(e,t,u){return u||{top:0}}});f.beforeEach(async(e,t,u)=>{const s=g();if(console.log("Route guard:",{to:e.path,from:t.path,isAuthenticated:s.isAuthenticated,userInfo:s.userInfo,token:!!s.token}),e.meta.title&&(document.title=`${e.meta.title} - 排班管理系统`),e.path==="/login"){if(s.isAuthenticated&&s.userInfo){const o=s.userInfo.role;if(o==="admin"){u("/admin/dashboard");return}else if(o==="employee"){u("/employee/dashboard");return}}u();return}if(e.path==="/"){if(s.isAuthenticated&&s.userInfo){const o=s.userInfo.role;if(o==="admin"){u("/admin/dashboard");return}else if(o==="employee"){u("/employee/dashboard");return}}u("/login");return}if(e.meta.requiresAuth){if(!s.token){u("/login");return}if(!s.userInfo)try{await s.getUserInfo()}catch(o){console.error("Token validation failed:",o),s.logout(),u("/login");return}if(!s.isAuthenticated||!s.userInfo){u("/login");return}if(e.meta.requiresRole){const o=s.userInfo.role,a=e.meta.requiresRole;if(o!==a){console.log("Role mismatch:",{userRole:o,requiredRole:a}),u(o==="admin"?"/admin/dashboard":o==="employee"?"/employee/dashboard":"/login");return}}}u()});const l=L.create({baseURL:{}.VITE_API_BASE_URL||"/api",timeout:6e4,headers:{"Content-Type":"application/json;charset=UTF-8"}});l.interceptors.request.use(e=>{const t=g();return t.token&&(e.headers.Authorization=`Bearer ${t.token}`),e.showLoading,e},e=>(console.error("Request error:",e),Promise.reject(e)));l.interceptors.response.use(e=>{const t=e.data;return t.code&&t.code!==200?(c.error(t.message||"请求失败"),Promise.reject(new Error(t.message||"请求失败"))):t},e=>{var s;console.error("Response error:",e);const{response:t}=e,u=g();if(t)switch(t.status){case 401:c.error("账号或密码错误，请重新登录"),u.logout(),f.push("/login");break;case 403:c.error("没有权限访问该资源");break;case 404:c.error("请求的资源不存在");break;case 409:break;case 422:const o=((s=t.data)==null?void 0:s.message)||"表单验证失败";c.error(o);break;case 429:c.error("请求过于频繁，请稍后再试");break;case 500:c.error("服务器内部错误");break;case 502:case 503:case 504:c.error("服务暂时不可用");break;default:c.error(`请求失败: ${t.status}`)}else e.code==="ECONNABORTED"?c.error("请求超时，请检查网络连接"):c.error("网络连接失败，请检查网络");return Promise.reject(e)});const r={get(e,t={},u={}){return l.get(e,{params:t,...u})},post(e,t={},u={}){return l.post(e,t,u)},put(e,t={},u={}){return l.put(e,t,u)},patch(e,t={},u={}){return l.patch(e,t,u)},delete(e,t={},u={}){return t&&typeof t=="object"&&!Array.isArray(t)&&(t.headers||t.params||t.timeout||t.responseType)?l.delete(e,t):l.delete(e,{data:t,...u})},upload(e,t,u={}){return l.post(e,t,{headers:{"Content-Type":"multipart/form-data"},...u})},download(e,t={},u={}){return l.get(e,{params:t,responseType:"blob",...u})}},E={login(e){return r.post("/auth/login",e)},register(e){return r.post("/auth/register",e)},selfRegister(e){return r.post("/auth/self-register",e)},validateReferrer(e){return r.post("/auth/validate-referrer",e)},getPendingRegistrations(){return r.get("/auth/pending-registrations")},approveRegistration(e,t){return r.post(`/auth/approve-registration/${e}`,t)},getUserInfo(){return r.get("/auth/me")},refreshToken(){return r.post("/auth/refresh")},logout(){return r.post("/auth/logout")}},ne={getEmployees(e={}){return r.get("/employees",e)},getEmployee(e){return r.get(`/employees/${e}`)},createEmployee(e){return r.post("/employees",e)},updateEmployee(e,t){return r.put(`/employees/${e}`,t)},deleteEmployee(e){return r.delete(`/employees/${e}`)},validateReferrer(e){return r.post("/employees/validate-referrer",e)},getReferralStats(){return r.get("/employees/referral-stats")},getMyReferrals(){return r.get("/employees/my-referrals")}},ie={getAvailabilities(e={}){return r.get("/availability",e)},createAvailability(e){return r.post("/availability",e)},batchCreateAvailability(e){return r.post("/availability/batch",e)},updateAvailability(e,t){return r.put(`/availability/${e}`,t)},deleteAvailability(e){return r.delete(`/availability/${e}`)},getEmployeeAvailability(e,t={}){return r.get(`/availability/employee/${e}`,t)},getTimeSlots(){return r.get("/availability/timeslots")},createTimeSlot(e){return r.post("/availability/timeslots",e)},updateTimeSlot(e,t){return r.put(`/availability/timeslots/${e}`,t)},deleteTimeSlot(e){return r.delete(`/availability/timeslots/${e}`)},batchCreateAvailabilityAdvanced(e){return r.post("/availability/batch-advanced",e)},getBatchOperationStatus(e){return r.get(`/availability/batch/${e}`)},batchDeleteEmployeeAvailabilityByWeeks(e,t){return r.delete(`/availability/employees/${e}/weeks`,t)},batchDeleteAllAvailabilityByWeeks(e){return r.delete("/availability/batch/weeks",e)}},le={getSchedules(e={}){return r.get("/schedules",e)},createSchedule(e){return r.post("/schedules",e)},batchSchedule(e){return r.post("/schedules/batch",e)},updateSchedule(e,t){return r.put(`/schedules/${e}`,t)},deleteSchedule(e){return r.delete(`/schedules/${e}`)},getScheduleCalendar(e={}){return r.get("/schedules/calendar",e)},getRules(){return r.get("/schedule/rules")},updateRules(e){return r.put("/schedule/rules",e)},autoSchedule(e){return r.post("/ai-schedule/auto",e,{timeout:3e5})},validateAISchedule(e){return r.post("/ai-schedule/validate",e)},applyAISchedule(e){return r.post("/ai-schedule/apply",e)},exportSchedule(e){return`/ai-schedule/export/${e}`},sendNotifications(e){return r.post("/schedules/send-notifications",e)},batchScheduleAdvanced(e){return r.post("/schedules/batch-advanced",e)},batchAdjustSchedule(e){return r.post("/schedules/batch-adjust",e)},copyScheduleToWeeks(e){return r.post("/schedules/copy",e)},syncSchedulesToWeeks(e){return r.post("/schedules/sync-to-weeks",e)},batchDeleteSchedulesByWeeks(e){return r.post("/schedules/batch-delete-weeks",e)}},ce={getShiftRequests(e={}){return r.get("/shift-requests",e)},getMyShiftRequests(e={}){return r.get("/shift-requests/my",e)},createRequest(e){return r.post("/shift-requests",e)},updateRequest(e,t){return r.put(`/shift-requests/${e}`,t)},cancelRequest(e){return r.post(`/shift-requests/${e}/cancel`)},approveRequest(e,t){return r.post(`/shift-requests/${e}/approve`,t)},rejectRequest(e,t){return r.post(`/shift-requests/${e}/reject`,t)},deleteRequest(e){return r.delete(`/shift-requests/${e}`)},getStats(){return r.get("/shift-requests/stats")},getMyStats(){return r.get("/shift-requests/my/stats")},getMySchedules(e={}){return r.get("/shift-requests/my-schedules",e)},getAvailableSwaps(e){return r.get(`/shift-requests/available-swaps/${e}`)},validateSwap(e){return r.post("/shift-requests/validate",e)}},pe={getSettings(){return r.get("/settings")},getSettingsByCategory(e){return r.get(`/settings/categories/${e}`)},updateSettings(e,t){return r.put(`/settings/${e}`,t)},testEmail(e){return r.post("/settings/email/test",e)},getEmailTemplates(){return r.get("/settings/email/templates")},createEmailTemplate(e){return r.post("/settings/email/templates",e)},updateEmailTemplate(e,t){return r.put(`/settings/email/templates/${e}`,t)},deleteEmailTemplate(e){return r.delete(`/settings/email/templates/${e}`)},testAIConnection(e,t){return r.post("/settings/ai/test",{provider:e,config:t})},getSystemHealth(){return r.get("/settings/health")},getWeekInfo(){return r.get("/settings/week/info")},exportSettings(){return r.get("/settings/export")},importSettings(e){return r.post("/settings/import",e)}},me={getEmployeeWorkHours:e=>l.get("/statistics/employee-workhours",{params:e}),getAllEmployeesWorkHours:e=>l.get("/statistics/all-employees-workhours",{params:e})},g=I("user",{state:()=>({userInfo:null,token:localStorage.getItem("token")||null,permissions:[],isLoggedIn:!!localStorage.getItem("token")}),getters:{username:e=>{var t;return((t=e.userInfo)==null?void 0:t.name)||""},email:e=>{var t;return((t=e.userInfo)==null?void 0:t.email)||""},role:e=>{var t;return((t=e.userInfo)==null?void 0:t.role)||""},roleDisplayName:e=>{var u;return((u=e.userInfo)==null?void 0:u.role)==="admin"?"管理员":"员工"},hasPermission:e=>t=>e.permissions.includes(t),isAdmin:e=>{var t;return((t=e.userInfo)==null?void 0:t.role)==="admin"},avatar:e=>{var t;return((t=e.userInfo)==null?void 0:t.avatar)||""},isAuthenticated:e=>!!e.token&&e.isLoggedIn},actions:{setToken(e){this.token=e,this.isLoggedIn=!!e,e?localStorage.setItem("token",e):localStorage.removeItem("token")},setUserInfo(e){this.userInfo=e},setPermissions(e){this.permissions=e||[]},async login(e){try{const t=await E.login(e),{token:u,user:s,permissions:o}=t.data;return this.setToken(u),this.setUserInfo(s),this.setPermissions(o),t}catch(t){throw console.error("Login failed:",t),t}},async getUserInfo(){try{if(!this.token)throw new Error("No token available");const e=await E.getUserInfo(),{user:t,permissions:u}=e.data;return this.setUserInfo(t),this.setPermissions(u),this.isLoggedIn=!0,e}catch(e){throw console.error("Get user info failed:",e),this.logout(),e}},async refreshToken(){try{const e=await E.refreshToken(),{token:t}=e.data;return this.setToken(t),e}catch(e){throw console.error("Refresh token failed:",e),this.logout(),e}},async logout(){try{this.token&&await E.logout()}catch(e){console.error("Logout API failed:",e)}finally{this.token=null,this.userInfo=null,this.permissions=[],this.isLoggedIn=!1,localStorage.removeItem("token")}},updateUserInfo(e){this.userInfo&&(this.userInfo={...this.userInfo,...e})},async checkTokenValidity(){if(!this.token)return!1;try{return await this.getUserInfo(),!0}catch{return!1}},async initUserState(){if(this.token)try{await this.getUserInfo()}catch(e){console.error("Initialize user state failed:",e),this.logout()}}},persist:{key:"schedule-system-user",storage:localStorage,paths:["userInfo","permissions","isLoggedIn"]}});const te={id:"app"},re={__name:"App",setup(e){const t=k(v),u=g();return R(async()=>{if(u.token)try{await u.initUserState()}catch(s){console.error("Failed to initialize user state:",s)}}),(s,o)=>{const a=B("router-view"),i=q;return S(),w("div",te,[y(i,{locale:t.value},{default:C(()=>[y(a)]),_:1},8,["locale"])])}}};const m=T(re);for(const[e,t]of Object.entries(O))m.component(e,t);m.use(P());m.use(f);m.use($,{locale:v,size:"default"});m.config.errorHandler=(e,t,u)=>{console.error("Global error:",e),console.error("Error info:",u)};m.mount("#app");export{ie as a,ce as b,pe as c,E as d,ne as e,r,le as s,g as u,me as w};
