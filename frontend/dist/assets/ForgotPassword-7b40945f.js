import"./index-bcd0f302.js";/* empty css                *//* empty css                     */import{_ as h}from"./_plugin-vue_export-helper-8da67cfc.js";/* empty css                 */import{aC as k,r as f,X as x,y as i,z as d,A as t,Q as e,I as r,a5 as E,M as P}from"./vendor-b2a91a46.js";import{a as V}from"./utils-88d415ea.js";import{E as p,W as B,X as C,p as I,_ as R,Z as z}from"./elementPlus-9365ac08.js";const M={class:"forgot-password-container"},N={class:"forgot-password-box"},K={key:0},L={key:1},T={class:"forgot-password-footer"},X={__name:"ForgotPassword",setup(q){const u=k(),_=f(),l=f(!1),s=x({email:""}),g={email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}]},m=async()=>{var n,o;try{await _.value.validate(),l.value=!0,await V.post("/api/auth/forgot-password",{email:s.email}),p.success("重置链接已发送到您的邮箱，请查收"),s.email=""}catch(a){console.error("Forgot password failed:",a),(o=(n=a.response)==null?void 0:n.data)!=null&&o.message?p.error(a.response.data.message):p.error("发送失败，请稍后重试")}finally{l.value=!1}},w=()=>{u.push("/login")};return(n,o)=>{const a=B,c=C,y=I,v=R,F=z;return i(),d("div",M,[t("div",N,[o[2]||(o[2]=t("div",{class:"forgot-password-header"},[t("h2",{class:"forgot-password-title"},"忘记密码"),t("p",{class:"forgot-password-subtitle"},"请输入您的邮箱地址，我们将发送重置链接到您的邮箱")],-1)),e(v,{ref_key:"forgotPasswordFormRef",ref:_,model:s,rules:g,class:"forgot-password-form",onKeyup:E(m,["enter"])},{default:r(()=>[e(c,{prop:"email"},{default:r(()=>[e(a,{modelValue:s.email,"onUpdate:modelValue":o[0]||(o[0]=b=>s.email=b),placeholder:"请输入邮箱","prefix-icon":"Message",size:"large",clearable:""},null,8,["modelValue"])]),_:1}),e(c,null,{default:r(()=>[e(y,{loading:l.value,type:"primary",size:"large",class:"forgot-password-button",onClick:m},{default:r(()=>[l.value?(i(),d("span",L,"发送中...")):(i(),d("span",K,"发送重置链接"))]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),t("div",T,[e(F,{type:"primary",onClick:w},{default:r(()=>o[1]||(o[1]=[P("返回登录",-1)])),_:1,__:[1]})])])])}}},H=h(X,[["__scopeId","data-v-0421b8f7"]]);export{H as default};
